(self.webpackChunk=self.webpackChunk||[]).push([[222],{8222:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var a=n(5166),r={key:1,class:"row"},o={class:"instructions col-4 p-4"},s=(0,a.createVNode)("hr",{class:"instructions-hr"},null,-1);var c=n(7757),i=n.n(c),d=n(6532);function u(e,t,n,a,r,o,s){try{var c=e[o](s),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){u(o,a,r,s,c,"next",e)}function c(e){u(o,a,r,s,c,"throw",e)}s(void 0)}))}}const l={props:["problemID","lang","labID"],emits:["unmounting","problemEdited"],data:function(){return{assignment:{},title:"",description:"",code_j:"",code_p:"",theme:"",input:"",jID:"",pID:"",codeID:"",forceReload:0,childIsOpen:!1,saveStatus:"",test:{}}},methods:{getAssignment:function(){var e=this;return p(i().mark((function t(){var n,a,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.x.get("/problems/full/".concat(e.problemID));case 2:return n=t.sent,e.assignment=n.data.data,e.title=e.assignment.name,e.description=e.assignment.description,a={lang:e.lang},t.next=9,d.x.post("/code/check/".concat(e.problemID),a);case 9:if(r=t.sent,e.test=r,"No progress. Please create."!=r.data.message){t.next=19;break}return a="Java"==e.lang?{lang:e.lang.toLowerCase(0),problem_id:e.problemID,code:e.assignment.java_starter}:{lang:e.lang.toLowerCase(0),problem_id:e.problemID,code:e.assignment.python_starter},t.next=15,d.x.post("/code/",a);case 15:o=t.sent,"Java"==e.lang?(e.code_j=e.assignment.java_starter,e.codeID=o.data.id):(e.code_p=e.assignment.python_starter,e.codeID=o.data.id),t.next=20;break;case 19:"Java"==e.lang?(e.code_j=r.data.dump[0].code,e.codeID=r.data.dump[0].id):(e.code_p=r.data.dump[0].code,e.codeID=r.data.dump[0].id);case 20:e.forceReload=1;case 21:case"end":return t.stop()}}),t)})))()},getJava:function(e){var t=this;return p(i().mark((function n(){var a,r,o,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a={lang:"java",problem_id:t.problemID,code:t.assignment.java_starter},0!=e.length){n.next=9;break}return n.next=4,d.x.post("/code/",a);case 4:return r=n.sent,t.jID=r.data.id,n.abrupt("return",t.assignment.java_starter);case 9:o=0;case 10:if(!(o<e.length)){n.next=18;break}if("java"!=e[o].lang){n.next=15;break}return console.log("Got Java"),t.jID=e[o].id,n.abrupt("return",e[o].code);case 15:o++,n.next=10;break;case 18:return n.next=20,d.x.post("/code/",a);case 20:return s=n.sent,t.jID=s.data.id,n.abrupt("return",t.assignment.java_starter);case 23:case"end":return n.stop()}}),n)})))()},getPython:function(e){var t=this;return p(i().mark((function n(){var a,r,o,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a={lang:"python",problem_id:t.problemID,code:t.assignment.python_starter},0!=e.length){n.next=9;break}return n.next=4,d.x.post("/code/",a);case 4:return r=n.sent,t.pID=r.data.id,n.abrupt("return",t.assignment.python_starter);case 9:o=0;case 10:if(!(o<e.length)){n.next=17;break}if("python"!=e[o].lang){n.next=14;break}return t.pID=e[o].id,n.abrupt("return",e[o].code);case 14:o++,n.next=10;break;case 17:return n.next=19,d.x.post("/code/",a);case 19:return s=n.sent,t.pID=s.data.id,n.abrupt("return",t.assignment.python_starter);case 22:case"end":return n.stop()}}),n)})))()},updateContent:function(e){this.saveStatus="Saving...","Java"==this.lang?this.code_j=e.code:this.code_p=e.code,this.timeout()},timeout:_.debounce(p(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},"Java"!=this.lang){e.next=8;break}return t={code:this.code_j},e.next=5,d.x.put("/code/".concat(this.codeID),t);case 5:e.sent,e.next=13;break;case 8:return t={code:this.code_p},e.next=11,d.x.put("/code/".concat(this.codeID),t);case 11:e.sent,this.saveStatus="All changes have been saved";case 13:case"end":return e.stop()}}),e,this)}))),1e3)},beforeUnmount:function(){this.$emit("unmounting"),this.childIsOpen=!1},created:function(){var e=this;return p(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.childIsOpen=!0,t.next=3,e.getAssignment();case 3:case"end":return t.stop()}}),t)})))()},render:function(e,t,n,c,i,d){var u=this,p=(0,a.resolveComponent)("Tiptap"),l=(0,a.resolveComponent)("IDE");return(0,a.openBlock)(),(0,a.createBlock)(a.Fragment,null,[i.childIsOpen?((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,onClick:t[1]||(t[1]=function(e){return u.$emit("unmounting")}),class:"btn btn-danger btn-block"},"Return to Problems")):(0,a.createCommentVNode)("",!0),i.childIsOpen?((0,a.openBlock)(),(0,a.createBlock)("div",r,[(0,a.createVNode)("div",o,[(0,a.createVNode)("h4",null,(0,a.toDisplayString)(i.title),1),s,i.childIsOpen?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,savedText:JSON.parse(i.description),editable:!1,showMenuBar:!1,isDark:!0},null,8,["savedText"])):(0,a.createCommentVNode)("",!0)]),i.childIsOpen?((0,a.openBlock)(),(0,a.createBlock)(l,{class:"col-8",lang:n.lang,showSubmit:!0,saved_j:i.code_j,saved_p:i.code_p,problemID:n.problemID,codeID:i.codeID,labID:n.labID,onUpdate:d.updateContent,key:i.forceReload},null,8,["lang","saved_j","saved_p","problemID","codeID","labID","onUpdate"])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0)],64)}},m=l}}]);