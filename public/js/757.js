(self.webpackChunk=self.webpackChunk||[]).push([[757],{5757:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>b});var n=o(5166),r={class:"delete Course"},s=(0,n.createVNode)("p",null,"This Invite Code has expired please contact your professor",-1),a={class:"delete-buttons"},c={class:"invite-card center"},i={class:"crop"},l=(0,n.createVNode)("br",null,null,-1),u={class:"center"},d=(0,n.createVNode)("br",null,null,-1),h={class:"center"},f=(0,n.createVNode)("br",null,null,-1);var g=o(7757),m=o.n(g),p=o(6532);function v(e,t,o,n,r,s,a){try{var c=e[s](a),i=c.value}catch(e){return void o(e)}c.done?t(i):Promise.resolve(i).then(n,r)}function w(e){return function(){var t=this,o=arguments;return new Promise((function(n,r){var s=e.apply(t,o);function a(e){v(s,n,r,a,c,"next",e)}function c(e){v(s,n,r,a,c,"throw",e)}a(void 0)}))}}const I={data:function(){return{key:"",course:{},courseID:"",courseImg:"",imgSizes:{width:0,height:0,fScaleToTargetWidth:!0},showInfoModal:!1,reloadInfoModal:0}},methods:{scaleImage:function(e,t,o,n,r){if(console.log("HERE"),console.log(e),console.log(t),console.log(o),console.log(n),console.log(r),this.imgSizes={width:0,height:0,fScaleToTargetWidth:!0},e>0&&t>0&&o>0&&n>0){var s=o,a=t*o/e,c=e*n/t,i=n,l=c>o;(l=l?r:!r)?(this.imgSizes.width=Math.floor(s),this.imgSizes.height=Math.floor(a),this.imgSizes.fScaleToTargetWidth=!0):(this.imgSizes.width=Math.floor(c),this.imgSizes.height=Math.floor(i),this.imgSizes.fScaleToTargetWidth=!1),this.imgSizes.targetleft=Math.floor((o-this.imgSizes.width)/2),this.imgSizes.targettop=Math.floor((n-this.imgSizes.height)/2)}},joinCourse:function(){var e=this;return w(m().mark((function t(){var o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.x.post("/invite/enroll/".concat(e.key));case 3:if(200==(o=t.sent).status){t.next=6;break}throw new Error(o);case 6:return t.next=8,e.$store.dispatch("auth/getAuthUser");case 8:t.sent,e.$router.push({name:"Courses"}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("something went wrong in try"),403==t.t0.response.status&&console.log(t.t0.response),e.joining();case 17:case"end":return t.stop()}}),t,null,[[0,12]])})))()},cancelCourse:function(){this.$router.push({name:"Courses"})},getCourse:function(){var e=this;return w(m().mark((function t(){var o,n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return""==e.key&&console.log("404"),t.next=3,p.x.get("/invite/".concat(e.key));case 3:return o=t.sent,e.courseID=o.data.data.course_id,t.next=7,p.x.get("/courses/".concat(e.courseID));case 7:n=t.sent,e.course=n.data.data,e.courseImg=e.course.img_loc;case 10:case"end":return t.stop()}}),t)})))()},getKey:function(){var e=window.location.pathname;e=e.split("/"),this.key=e[1]},closeInfo:function(){this.showInfoModal=!1},joining:function(){this.showInfoModal=!0}},watch:{showInfoModal:function(){this.showInfoModal||this.reloadInfoModal++}},beforeMount:function(){var e=this;return w(m().mark((function t(){var o,n;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.getKey(),t.next=3,e.getCourse();case 3:console.log(e.course),o=e,(n=new Image).onload=function(){o.scaleImage(this.width,this.height,600,338,!1)},n.src=e.courseImg;case 8:case"end":return t.stop()}}),t)})))()},render:function(e,t,o,g,m,p){var v=(0,n.resolveComponent)("vue-final-modal");return(0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)(v,{class:"delete-modal",modelValue:m.showInfoModal,"onUpdate:modelValue":t[3]||(t[3]=function(e){return m.showInfoModal=e}),classes:"modal-container","content-class":"modal-content delete-modal","esc-to-close":!0},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)("button",{class:"modal-close",onClick:t[1]||(t[1]=function(e){return p.closeInfo()})},"x"),(0,n.createVNode)("div",r,[s,(0,n.createVNode)("div",a,[(0,n.createVNode)("button",{class:"btn btn-md btn-danger delete-button",onClick:t[2]||(t[2]=function(e){return p.closeInfo()})},"OK")])])]})),_:1},8,["modelValue"]),(0,n.createVNode)("div",{style:'background-image: url("'+this.courseImg+'")',class:"inviteBG"},null,4),(0,n.createVNode)("div",c,[(0,n.createVNode)("div",i,[(0,n.createVNode)("img",{src:this.courseImg,alt:"Course Image",width:"600"},null,8,["src"])]),l,(0,n.createVNode)("h3",u,(0,n.toDisplayString)(m.course.name),1),d,(0,n.createVNode)("p",h,(0,n.toDisplayString)(m.course.start_date)+" â€” "+(0,n.toDisplayString)(m.course.end_date),1),f,(0,n.createVNode)("button",{class:"btn btn-lg",style:{width:"97%","background-color":"#14a160","border-radius":"5px !important",color:"white"},onClick:t[4]||(t[4]=function(e){return p.joinCourse()})}," Join! ")])])}},b=I}}]);