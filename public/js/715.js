(self.webpackChunk=self.webpackChunk||[]).push([[715],{8715:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var a=n(5166),o={key:0,class:"workspace-page"},r={key:0},i=(0,a.createTextVNode)("â†© Return to Problems"),s=(0,a.createVNode)("br",null,null,-1),c=(0,a.createVNode)("br",null,null,-1),d=(0,a.createVNode)("hr",{class:"instructions-hr"},null,-1);var u=n(7757),l=n.n(u),p=n(6532),h=n(1361),m=n.n(h);n(273);function g(e,t,n,a,o,r,i){try{var s=e[r](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var r=e.apply(t,n);function i(e){g(r,a,o,i,s,"next",e)}function s(e){g(r,a,o,i,s,"throw",e)}i(void 0)}))}}const f=(0,a.defineComponent)({props:["problemID","lang","labID"],emits:["unmounting","problemEdited","deleteMe"],components:{Vue3DraggableResizable:m()},data:function(){return{instructionsHeight:window.innerHeight-60,instructionsWidth:.33*window.innerWidth,IDEHeight:window.innerHeight-60,IDEWidth:.67*window.innerWidth,assignment:{},title:"",description:"",code_j:"",code_p:"",theme:"",input:"",jID:"",pID:"",codeID:"",forceReload:0,reloadSliders:0,childIsOpen:!1,saveStatus:"",test:{},x1:0,y1:60,h1:0,w1:0,x2:.33*window.innerWidth,y2:60,h2:0,w2:.67*window.innerWidth,active:!0,debouncedWidth:.67*window.innerWidth}},watch:{w2:function(){this.w1=window.innerWidth-this.w2},active:function(){this.active=!0}},methods:{resizeEnd:function(){this.debouncedWidth=this.w2},unmountingWork:function(){var e=this;return v(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("unmountingWork"),e.$router.go(-1);case 2:case"end":return t.stop()}}),t)})))()},getAssignment:function(){var e=this;return v(l().mark((function t(){var n,a,o,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.x.get("/problems/full/".concat(e.problemID));case 2:return n=t.sent,e.assignment=n.data.data,e.title=e.assignment.name,e.description=e.assignment.description,a={lang:e.lang},t.next=9,p.x.post("/code/check/".concat(e.problemID),a);case 9:if(o=t.sent,e.test=o,""!=e.assignment.python_starter&&null!=e.assignment.python_starter||(e.assignment.python_starter="def main():\n\nmain()"),""!=e.assignment.java_starter&&null!=e.assignment.java_starter||(e.assignment.java_starter="public class Main {\n\tpublic static void main(String[] args) {\n\t\t}}"),"No progress. Please create."!=o.data.message){t.next=21;break}return a="Java"==e.lang?{lang:e.lang.toLowerCase(0),problem_id:e.problemID,code:e.assignment.java_starter}:{lang:e.lang.toLowerCase(0),problem_id:e.problemID,code:e.assignment.python_starter},t.next=17,p.x.post("/code/",a);case 17:r=t.sent,"Java"==e.lang?(e.code_j=e.assignment.java_starter,e.codeID=r.data.id,console.log("initial.id "+r.data.id),console.log(e.codeID)):(e.code_p=e.assignment.python_starter,e.codeID=r.data.id,console.log("initial.id "+r.data.id),console.log(e.codeID)),t.next=22;break;case 21:"Java"==e.lang?(e.code_j=o.data.dump[0].code,e.codeID=o.data.dump[0].id,console.log("empty.data.dump[0].id "+o.data.dump[0].id),console.log(e.codeID)):(e.code_p=o.data.dump[0].code,e.codeID=o.data.dump[0].id,console.log("empty.data.dump[0].id "+o.data.dump[0].id),console.log(e.codeID));case 22:e.forceReload=1;case 23:case"end":return t.stop()}}),t)})))()},getJava:function(e){var t=this;return v(l().mark((function n(){var a,o,r,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a={lang:"java",problem_id:t.problemID,code:t.assignment.java_starter},0!=e.length){n.next=9;break}return n.next=4,p.x.post("/code/",a);case 4:return o=n.sent,t.jID=o.data.id,n.abrupt("return",t.assignment.java_starter);case 9:r=0;case 10:if(!(r<e.length)){n.next=18;break}if("java"!=e[r].lang){n.next=15;break}return console.log("Got Java"),t.jID=e[r].id,n.abrupt("return",e[r].code);case 15:r++,n.next=10;break;case 18:return n.next=20,p.x.post("/code/",a);case 20:return i=n.sent,t.jID=i.data.id,n.abrupt("return",t.assignment.java_starter);case 23:case"end":return n.stop()}}),n)})))()},getPython:function(e){var t=this;return v(l().mark((function n(){var a,o,r,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a={lang:"python",problem_id:t.problemID,code:t.assignment.python_starter},0!=e.length){n.next=9;break}return n.next=4,p.x.post("/code/",a);case 4:return o=n.sent,t.pID=o.data.id,n.abrupt("return",t.assignment.python_starter);case 9:r=0;case 10:if(!(r<e.length)){n.next=17;break}if("python"!=e[r].lang){n.next=14;break}return t.pID=e[r].id,n.abrupt("return",e[r].code);case 14:r++,n.next=10;break;case 17:return n.next=19,p.x.post("/code/",a);case 19:return i=n.sent,t.pID=i.data.id,n.abrupt("return",t.assignment.python_starter);case 22:case"end":return n.stop()}}),n)})))()},updateContent:function(e){this.saveStatus="Saving...","Java"==this.lang?this.code_j=e.code:this.code_p=e.code,this.timeout()},timeout:_.debounce(v(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},"Java"!=this.lang){e.next=8;break}return t={code:this.code_j},e.next=5,p.x.put("/code/".concat(this.codeID),t);case 5:e.sent,e.next=13;break;case 8:return t={code:this.code_p},e.next=11,p.x.put("/code/".concat(this.codeID),t);case 11:e.sent,this.saveStatus="All changes have been saved";case 13:case"end":return e.stop()}}),e,this)}))),1e3)},beforeUnmount:function(){console.log("unmounting workspace"),this.$emit("unmounting"),this.childIsOpen=!1,document.getElementById("thisIsTheDumbestThingIHaveEverHadToDo").style=""},created:function(){var e=this;return v(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.childIsOpen=!0,t.next=3,e.getAssignment();case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){this.reloadSliders++,document.getElementById("resizeableInstructions").remove(),document.getElementById("thisIsTheDumbestThingIHaveEverHadToDo").style="overflow: hidden!important"}});f.render=function(e,t,n,u,l,p){var h=this,m=(0,a.resolveComponent)("btn"),g=(0,a.resolveComponent)("Tiptap"),v=(0,a.resolveComponent)("Vue3DraggableResizable"),f=(0,a.resolveComponent)("IDE");return e.childIsOpen?((0,a.openBlock)(),(0,a.createBlock)("div",o,[e.childIsOpen?((0,a.openBlock)(),(0,a.createBlock)("div",r,[e.childIsOpen?((0,a.openBlock)(),(0,a.createBlock)(v,{initW:e.instructionsWidth,initH:e.instructionsHeight,x:e.x1,"onUpdate:x":t[2]||(t[2]=function(t){return e.x1=t}),y:e.y1,"onUpdate:y":t[3]||(t[3]=function(t){return e.y1=t}),w:e.w1,"onUpdate:w":t[4]||(t[4]=function(t){return e.w1=t}),h:e.h1,"onUpdate:h":t[5]||(t[5]=function(t){return e.h1=t}),active:e.active,"onUpdate:active":t[6]||(t[6]=function(t){return e.active=t}),draggable:!1,resizable:!0,disabledH:!0,handles:["mr"],key:e.reloadSliders,class:"instructions",id:"resizeableInstructions",style:{"overflow-y":"hidden !important","overflow-x":"auto !important"}},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(m,{class:"btn btn-secondary btn-sm",style:{"margin-left":"calc((100% - (100% - 16px)) / 2) !important",width:"calc(100% - 20px) !important","margin-top":"5px"},onClick:t[1]||(t[1]=function(e){return h.$emit("unmounting")})},{default:(0,a.withCtx)((function(){return[i]})),_:1}),s,c,(0,a.createVNode)("h4",null,(0,a.toDisplayString)(e.title),1),d,e.childIsOpen?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,savedText:JSON.parse(e.description),editable:!1,showMenuBar:!1,isDark:!0},null,8,["savedText"])):(0,a.createCommentVNode)("",!0)]})),_:1},8,["initW","initH","x","y","w","h","active"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(v,{initW:e.IDEWidth,initH:e.IDEHeight,x:e.x2,"onUpdate:x":t[7]||(t[7]=function(t){return e.x2=t}),y:e.y2,"onUpdate:y":t[8]||(t[8]=function(t){return e.y2=t}),w:e.w2,"onUpdate:w":t[9]||(t[9]=function(t){return e.w2=t}),h:e.h2,"onUpdate:h":t[10]||(t[10]=function(t){return e.h2=t}),active:e.active,"onUpdate:active":t[11]||(t[11]=function(t){return e.active=t}),draggable:!1,resizable:!0,disabledH:!0,handles:["ml"],onResizeEnd:e.resizeEnd,key:e.reloadSliders,id:"resizeableIDE"},{default:(0,a.withCtx)((function(){return[e.childIsOpen?((0,a.openBlock)(),(0,a.createBlock)(f,{offsetTop:0,lang:e.lang,showSubmit:!0,saved_j:e.code_j,saved_p:e.code_p,problemID:e.problemID,codeID:e.codeID,labID:e.labID,onUpdate:e.updateContent,key:e.forceReload,width:e.debouncedWidth},null,8,["lang","saved_j","saved_p","problemID","codeID","labID","onUpdate","width"])):(0,a.createCommentVNode)("",!0)]})),_:1},8,["initW","initH","x","y","w","h","active","onResizeEnd"])])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0)};const b=f}}]);