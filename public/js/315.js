(self.webpackChunk=self.webpackChunk||[]).push([[315],{48:(e,r,t)=>{"use strict";t.d(r,{vX:()=>m,Do:()=>f,_L:()=>$,BS:()=>p,Ei:()=>v,C1:()=>b});var o=t(5166);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return"function"==typeof e}function s(e){return null!==e&&"object"===n(e)&&!Array.isArray(e)}function i(e){return a(e.$validator)?Object.assign({},e):{$validator:e}}var c=function(e){if(e=(0,o.unref)(e),Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===n(e)){for(var r in e)return!0;return!1}return!!String(e).length},l=function(e){return e=(0,o.unref)(e),Array.isArray(e)?e.length:"object"===n(e)?Object.keys(e).length:String(e).length};function u(e){return function(r){return r=(0,o.unref)(r),!c(r)||e.test(r)}}o.unref,u(/^[a-zA-Z]*$/),u(/^[a-zA-Z0-9]*$/),u(/^\d*(\.\d+)?$/);function d(e,r){return function(t){return!c(t)||(!/\s/.test(t)||t instanceof Date)&&+(0,o.unref)(e)<=+t&&+(0,o.unref)(r)>=+t}}function m(e,r){return{$validator:d(e,r),$message:function(e){var r=e.$params;return"The value must be between ".concat(r.min," and ").concat(r.max)},$params:{min:e,max:r}}}var f={$validator:u(/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/),$message:"Value is not a valid email address"};function p(e){return{$validator:(r=e,function(e){return!c(e)||l(e)<=(0,o.unref)(r)}),$message:function(e){var r=e.$params;return"The maximum length allowed is ".concat(r.max)},$params:{max:e}};var r}function v(e){return{$validator:(r=e,function(e){return!c(e)||l(e)>=(0,o.unref)(r)}),$message:function(e){var r=e.$params;return"This field should be at least ".concat(r.min," long")},$params:{min:e}};var r}var b={$validator:function(e){return"string"==typeof e&&(e=e.trim()),c(e)},$message:"Value is required"};u(/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);var $={$validator:u(/(^[0-9]*$)|(^-[0-9]+$)/),$message:"Value is not an integer"};u(/^[-]?\d*(\.\d+)?$/)},4315:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ye});var o=t(5166),n={class:"container"},a={class:"register"},s=(0,o.createVNode)("h3",{class:"register-title"},"Sign Up",-1),i={class:"form-group"},c=(0,o.createVNode)("label",{for:"fname"},"First Name",-1),l={key:0,class:"invalid-feedback"},u=(0,o.createVNode)("br",null,null,-1),d={class:"form-group"},m=(0,o.createVNode)("label",{for:"lname"},"Last Name",-1),f={key:0,class:"invalid-feedback"},p=(0,o.createVNode)("br",null,null,-1),v={class:"form-group"},b=(0,o.createVNode)("label",{for:"username"},"Username",-1),$={key:0,class:"invalid-feedback"},k=(0,o.createVNode)("br",null,null,-1),y={class:"form-group"},V=(0,o.createVNode)("label",{for:"email"},"Email",-1),x={key:0,class:"invalid-feedback"},N={key:0},h={key:1},w=(0,o.createVNode)("br",null,null,-1),g={class:"form-group"},F=(0,o.createVNode)("label",{for:"email"},"FSC ID",-1),B={key:0,class:"invalid-feedback"},C={key:0},S={key:1},P={key:2},D={key:3},T={key:4},z=(0,o.createVNode)("br",null,null,-1),A={class:"form-group"},U=(0,o.createVNode)("label",{for:"password"},"Password",-1),E={key:0,class:"invalid-feedback"},L={key:0},_=(0,o.createTextVNode)("Please enter a password "),q=(0,o.createVNode)("br",null,null,-1),I={key:1},M=(0,o.createTextVNode)("Passwords must be at "),j=(0,o.createVNode)("i",null,"LEAST",-1),O=(0,o.createTextVNode)("  10 characters long "),Z=(0,o.createVNode)("br",null,null,-1),G={key:2},X=(0,o.createTextVNode)("Passwords must contain a lowercase character "),Y=(0,o.createVNode)("br",null,null,-1),R={key:3},W=(0,o.createTextVNode)("Passwords must contain an uppercase character "),H=(0,o.createVNode)("br",null,null,-1),J={key:4},K=(0,o.createTextVNode)("Passwords must contain a numeric character "),Q=(0,o.createVNode)("br",null,null,-1),ee={key:5},re=(0,o.createTextVNode)("Passwords must contain a symbol "),te=(0,o.createVNode)("br",null,null,-1),oe=(0,o.createVNode)("br",null,null,-1),ne={class:"form-group"},ae=(0,o.createVNode)("label",{for:"confirmPassword"},"Confirm Password",-1),se={key:0,class:"invalid-feedback"},ie={key:0},ce={key:1},le=(0,o.createVNode)("br",null,null,-1),ue=(0,o.createVNode)("div",{class:"form-group"},[(0,o.createVNode)("button",{class:"btn btn-danger btn-block"},"Register")],-1);var de=t(7757),me=t.n(de),fe=t(3082),pe=t(48),ve=t(2380),be=t(6532);function $e(e,r,t,o,n,a,s){try{var i=e[a](s),c=i.value}catch(e){return void t(e)}i.done?r(c):Promise.resolve(c).then(o,n)}const ke={setup:function(){return{v$:(0,fe.ZP)()}},data:function(){return{error:null,message:null,userForm:{fname:"",lname:"",email:"",fscid:"",username:"",password:"",confirmPassword:""},isSubmitted:!1}},validations:{userForm:{fname:{required:pe.C1},lname:{required:pe.C1},username:{required:pe.C1},fscid:{required:pe.C1,between:(0,pe.vX)(0,1e7),minLength:(0,pe.Ei)(7),maxLength:(0,pe.BS)(7),integer:pe._L},email:{required:pe.C1,email:pe.Do},password:{required:pe.C1,minLength:(0,pe.Ei)(10),mustContainLower:function(e){return/[a-z]/.test(e)},mustContainUpper:function(e){return/[A-Z]/.test(e)},mustContainNumber:function(e){return/\d/.test(e)},mustContainSymbol:function(e){return/\W/.test(e)}}}},methods:{handleSubmit:function(){this.isSubmitted=!0,this.v$.$touch(),this.v$.$invalid||this.registerUser()},registerUser:function(){var e,r=this;return(e=me().mark((function e(){var t,o,n,a,s,i,c;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.error=null,r.message=null,t={name:r.userForm.fname+" "+r.userForm.lname,username:r.userForm.username,email:r.userForm.email,fsc_id:r.userForm.fscid,password:r.userForm.password,password_confirmation:r.userForm.confirmPassword},o=r,n=!0,e.next=7,ve.Z.registerUser(t).catch((function(e){e.response.data.errors.hasOwnProperty("email")&&(console.log("Email Error"),o.$notify({type:"error",text:"An account with your email already exists!"}),n=!1),e.response.data.errors.hasOwnProperty("username")&&(console.log("Username Error"),o.$notify({type:"error",text:"An account with your username already exists!"}),n=!1),e.response.data.errors.hasOwnProperty("fsc_id")&&(console.log("FSC ID Error"),o.$notify({type:"error",text:"An account with your FSC ID already exists!"}),n=!1)}));case 7:if(e.sent,!n){e.next=26;break}return e.next=11,be.x.post("/students",{fsc_id:t.fsc_id});case 11:return a=e.sent,console.log(a),e.next=15,be.x.post("/gradebook/init/".concat(a.data.data.id),{scope:"student"});case 15:return s=e.sent,console.log(s),e.next=19,be.x.post("/progress");case 19:return i=e.sent,console.log(i),e.next=23,r.$store.dispatch("auth/getAuthUser");case 23:c=e.sent,null!=r.authUser&&(r.pfp=c.pfp_path,null!=r.pfp&&null!=r.pfp||(console.log("empty path"),r.pfp="images/DefaultPFP.png?dca25dcd82b7a37cf8c8334dbf19eb69="),document.getElementById("d_navpfp").src=r.pfp,document.getElementById("l_navpfp").src=r.pfp),r.$router.push("/courses");case 26:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(o,n){var a=e.apply(r,t);function s(e){$e(a,o,n,s,i,"next",e)}function i(e){$e(a,o,n,s,i,"throw",e)}s(void 0)}))})()}},computed:{isDiff:function(){return this.userForm.password!=this.userForm.confirmPassword},isEmpty:function(){return""==this.userForm.confirmPassword},hasError:function(){return this.isEmpty||this.isDiff}},render:function(e,r,t,de,me,fe){return(0,o.openBlock)(),(0,o.createBlock)("div",n,[(0,o.createVNode)("div",a,[s,(0,o.createVNode)("form",{onSubmit:r[8]||(r[8]=(0,o.withModifiers)((function(){return fe.handleSubmit&&fe.handleSubmit.apply(fe,arguments)}),["prevent"]))},[(0,o.createVNode)("div",i,[c,(0,o.withDirectives)((0,o.createVNode)("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=function(e){return me.userForm.fname=e}),id:"fname",name:"fname",class:["form-control",{"is-invalid":me.isSubmitted&&de.v$.userForm.fname.$error}]},null,2),[[o.vModelText,me.userForm.fname]]),me.isSubmitted&&de.v$.userForm.fname.$error?((0,o.openBlock)(),(0,o.createBlock)("div",l," Please enter your first name ")):(0,o.createCommentVNode)("",!0)]),u,(0,o.createVNode)("div",d,[m,(0,o.withDirectives)((0,o.createVNode)("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=function(e){return me.userForm.lname=e}),id:"lname",name:"lname",class:["form-control",{"is-invalid":me.isSubmitted&&de.v$.userForm.lname.$error}]},null,2),[[o.vModelText,me.userForm.lname]]),me.isSubmitted&&de.v$.userForm.lname.$error?((0,o.openBlock)(),(0,o.createBlock)("div",f," Please enter your last name ")):(0,o.createCommentVNode)("",!0)]),p,(0,o.createVNode)("div",v,[b,(0,o.withDirectives)((0,o.createVNode)("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=function(e){return me.userForm.username=e}),id:"username",name:"username",class:["form-control",{"is-invalid":me.isSubmitted&&de.v$.userForm.username.$error}]},null,2),[[o.vModelText,me.userForm.username]]),me.isSubmitted&&de.v$.userForm.username.$error?((0,o.openBlock)(),(0,o.createBlock)("div",$," Please enter a username ")):(0,o.createCommentVNode)("",!0)]),k,(0,o.createVNode)("div",y,[V,(0,o.withDirectives)((0,o.createVNode)("input",{type:"text","onUpdate:modelValue":r[4]||(r[4]=function(e){return me.userForm.email=e}),id:"email",name:"email",class:["form-control",{"is-invalid":me.isSubmitted&&de.v$.userForm.email.$error}]},null,2),[[o.vModelText,me.userForm.email]]),me.isSubmitted&&de.v$.userForm.email.$error?((0,o.openBlock)(),(0,o.createBlock)("div",x,[de.v$.userForm.email.required.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",N,"Please enter your email")):(0,o.createCommentVNode)("",!0),de.v$.userForm.email.email.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",h,"Please provide a valid email address (rickastley@NeverGonnaGiveYouUp.com)")):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)]),w,(0,o.createVNode)("div",g,[F,(0,o.withDirectives)((0,o.createVNode)("input",{type:"number","onUpdate:modelValue":r[5]||(r[5]=function(e){return me.userForm.fscid=e}),id:"fscid",name:"fscid",class:["form-control",{"is-invalid":me.isSubmitted&&de.v$.userForm.fscid.$error}]},null,2),[[o.vModelText,me.userForm.fscid]]),me.isSubmitted&&de.v$.userForm.fscid.$error?((0,o.openBlock)(),(0,o.createBlock)("div",B,[de.v$.userForm.fscid.required.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",C,"Please enter your FSC ID")):(0,o.createCommentVNode)("",!0),de.v$.userForm.fscid.integer.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",S,"Bruh. That needs to be a number smh")):(0,o.createCommentVNode)("",!0),de.v$.userForm.fscid.between.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",P,"ID's are between 0-10000000 big brain")):(0,o.createCommentVNode)("",!0),de.v$.userForm.fscid.minLength.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",D,"All ID's are 7 digits long")):(0,o.createCommentVNode)("",!0),de.v$.userForm.fscid.maxLength.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",T,"All ID's are 7 digits long")):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)]),z,(0,o.createVNode)("div",A,[U,(0,o.withDirectives)((0,o.createVNode)("input",{type:"password","onUpdate:modelValue":r[6]||(r[6]=function(e){return me.userForm.password=e}),id:"password",name:"password",class:["form-control",{"is-invalid":me.isSubmitted&&de.v$.userForm.password.$error}],autocomplete:"new-password"},null,2),[[o.vModelText,me.userForm.password]]),me.isSubmitted&&de.v$.userForm.password.$error?((0,o.openBlock)(),(0,o.createBlock)("div",E,[de.v$.userForm.password.required.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",L,[_,q])):(0,o.createCommentVNode)("",!0),de.v$.userForm.password.minLength.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",I,[M,j,O,Z])):(0,o.createCommentVNode)("",!0),de.v$.userForm.password.mustContainLower.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",G,[X,Y])):(0,o.createCommentVNode)("",!0),de.v$.userForm.password.mustContainUpper.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",R,[W,H])):(0,o.createCommentVNode)("",!0),de.v$.userForm.password.mustContainNumber.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",J,[K,Q])):(0,o.createCommentVNode)("",!0),de.v$.userForm.password.mustContainSymbol.$invalid?((0,o.openBlock)(),(0,o.createBlock)("span",ee,[re,te])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)]),oe,(0,o.createVNode)("div",ne,[ae,(0,o.withDirectives)((0,o.createVNode)("input",{type:"password","onUpdate:modelValue":r[7]||(r[7]=function(e){return me.userForm.confirmPassword=e}),class:["form-control",{"is-invalid":me.isSubmitted&&fe.hasError}],autocomplete:"new-password"},null,2),[[o.vModelText,me.userForm.confirmPassword]]),fe.hasError?((0,o.openBlock)(),(0,o.createBlock)("div",se,[fe.isEmpty?((0,o.openBlock)(),(0,o.createBlock)("span",ie,"Please re-enter your password")):fe.isDiff?((0,o.openBlock)(),(0,o.createBlock)("span",ce,"Your passwords don't match! ")):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)]),le,ue],32)])])}},ye=ke}}]);