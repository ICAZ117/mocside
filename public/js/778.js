(self.webpackChunk=self.webpackChunk||[]).push([[778],{8778:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Et});var r=n(5166),a={key:0},o={class:"assignment header"},c=(0,r.createVNode)("hr",null,null,-1),s={class:"assignment navbar-nav"};var i=n(7757),l=n.n(i),u={class:"create-assignment"},d={class:"container"},p=(0,r.createVNode)("h4",null,"Description:",-1),h=(0,r.createVNode)("hr",null,null,-1),f=(0,r.createVNode)("h5",null,"Proceed with caution!",-1);var m=n(6486),v=n.n(m),b=n(6532);function g(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){g(o,r,a,c,s,"next",e)}function s(e){g(o,r,a,c,s,"throw",e)}c(void 0)}))}}const V={emits:["delete-problem"],props:{overview:{type:Object,required:!0},problemID:{type:Number,required:!0}},data:function(){return{assignmentID:this.problemID,newText:{}}},methods:{timeout:v().debounce(function(){var e=N(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={description:this.newText},e.next=3,b.x.put("/problems/".concat(t),n);case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),3e3),save:function(e){this.newText=e,this.timeout(this.assignmentID)},deleteProblem:function(){var e=this;return N(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("Are you Sure you want to delete this problem")){t.next=4;break}return t.next=4,e.$emit("delete-problem");case 4:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){},beforeUnmount:function(){console.log("overview unmount")},mounted:function(){},render:function(e,t,n,a,o,c){var s=(0,r.resolveComponent)("Tiptap");return(0,r.openBlock)(),(0,r.createBlock)("div",u,[(0,r.createVNode)("div",d,[p,(0,r.createVNode)(s,{savedText:JSON.parse(n.overview),onInput:c.save,showMenuBar:!0,isDark:!1},null,8,["savedText","onInput"]),h,f,(0,r.createVNode)("button",{class:"btn btn-danger btn-lg",onClick:t[1]||(t[1]=function(e){return c.deleteProblem()})},"DELETE ASSIGNMENT")])])}},k=V;var w={class:"create-assignment"},x={class:"container"},D=(0,r.createVNode)("br",null,null,-1),C={class:"no-decor"},y={class:"row"},T={class:"card editcoursecard w-100"},S={class:"courses card-content"},I={class:"card-title my-3 mx-2 mb-0"},P=(0,r.createVNode)("hr",{class:"courses my-0"},null,-1),E={class:"card-body center"},O={class:"row"},B=(0,r.createVNode)("div",{class:"col-4"},"Publish:",-1),L={class:"col-8"},U={class:"switch"},A=(0,r.createVNode)("span",{class:"slider round"},null,-1),M={class:"row"},j=(0,r.createVNode)("div",{class:"col-4"},"Add:",-1),J={class:"col-8"},F={class:"switch"},G=(0,r.createVNode)("span",{class:"slider round"},null,-1),q=(0,r.createVNode)("br",null,null,-1),$=(0,r.createVNode)("label",{for:"lab-select"},"Lab:",-1),Z=(0,r.createVNode)("br",null,null,-1),H=(0,r.createVNode)("option",{value:"",selected:"",hidden:"",disabled:""},"Select a lab...",-1),W=(0,r.createVNode)("br",null,null,-1),R=(0,r.createVNode)("br",null,null,-1),z=(0,r.createVNode)("label",{for:"dueDate"},"Due Date: ",-1),K=(0,r.createVNode)("br",null,null,-1),Q=(0,r.createVNode)("label",{for:"dueTime"},"Time Due: ",-1),X=(0,r.createStaticVNode)('<hr class="courses my-0"><div class="card-footer"><div class="row center"><div class="col-6"><small><a href="" class="no-decor">Student Preview</a></small></div><div class="col-6"><small><a href="" class="no-decor">Gradebook &amp;<br>Submissions</a></small></div></div></div>',2);var Y=n(2813);function ee(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ee(o,r,a,c,s,"next",e)}function s(e){ee(o,r,a,c,s,"throw",e)}c(void 0)}))}}const ne={emits:["delete-problem"],props:["problemID"],data:function(){return{authUser:null,problem:{},copies:[],enrolledCourses:[],courses:[],labs:[]}},watch:{courses:{deep:!0,handler:function(){console.log("something in the courses list changed")}}},methods:{getCourses:function(){var e=this;return te(l().mark((function t(){var n,r,a,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e.enrolledCourses.length)){t.next=17;break}return r=e.enrolledCourses[n],t.next=5,b.x.get("/courses/".concat(r));case 5:return a=t.sent,e.courses.push(a.data.data),t.next=9,e.getLabs(e.courses[n].id);case 9:o=t.sent,e.labs.push(o),e.courses[n].DDate="",e.courses[n].TDate="",e.courses[n].isAdded=!1,e.courses[n].isPublished=!1,e.courses[n].currentLab={};case 14:n++,t.next=1;break;case 17:case"end":return t.stop()}}),t)})))()},getLabs:function(e){return te(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.x.get("/labs/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data.data);case 4:case"end":return t.stop()}}),t)})))()},updateDate:function(e){var t=this;return te(l().mark((function n(){var r,a,o,c,s,i,u,d,p,h,f;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(r=e.currentLab)||JSON.stringify(r)==JSON.stringify({})){n.next=25;break}a="",o=0;case 4:if(!(o<t.copies.length)){n.next=11;break}if(t.copies[o].lab_id!=r.id){n.next=8;break}return a=t.copies[o].id,n.abrupt("break",11);case 8:o++,n.next=4;break;case 11:return c=e.DDate.split("-"),s=Number(c[0]),i=Number(c[1])-1,u=Number(c[2]),d=e.TDate.split(":"),p=Number(d[0]),h=Number(d[1])+(new Date).getTimezoneOffset(),f={due_date:e.DDate+" "+e.TDate,due_date_utc:Date.UTC(s,i,u,p,h,0,0)},console.log(f),n.next=22,b.x.put("/problems/unique/".concat(a),f);case 22:n.sent,n.next=28;break;case 25:console.log("can't change date to undefined lab"),e.DDate="",e.TDate="";case 28:case"end":return n.stop()}}),n)})))()},switchedLab:function(e){var t;e.isAdded=!1;for(var n=0;n<this.copies.length;n++)if(this.copies[n].lab_id==e.currentLab.id){e.isAdded=!0,t=n;break}null!=t?(e.isPublished=this.copies[t].isPublished,e.DDate=this.copies[t].due_date.split(" ")[0],e.TDate=this.copies[t].due_date.split(" ")[1]):(e.isPublished=!1,e.DDate="",e.TDate="")},toggleToCourse:function(e){var t=this;return te(l().mark((function n(){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(r=e.currentLab)||JSON.stringify(r)==JSON.stringify({})){n.next=24;break}if(e.isAdded){n.next=6;break}t.addToCourse(r),n.next=22;break;case 6:if(!(t.copies.length>1)){n.next=10;break}t.deleteFromCourse(e,r),n.next=22;break;case 10:if(!confirm("This is the last copy of this assignment, are you sure you want to delete it forever")){n.next=16;break}return n.next=14,t.$emit("delete-problem");case 14:n.next=22;break;case 16:return console.log("should have changed back the isAdded"),console.log(e),n.next=20,t.sleep(10);case 20:e.isAdded=!0,console.log(e);case 22:n.next=26;break;case 24:console.log("can't add/delete to undefined lab"),e.isAdded=!1;case 26:case"end":return n.stop()}}),n)})))()},sleep:function(e){return te(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))()},addToCourse:function(e){var t=this;return te(l().mark((function n(){var r,a,o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={lab_id:e.id},n.next=3,b.x.post("/problems/copies/".concat(t.problemID),r);case 3:return a=n.sent,n.next=6,b.x.get("/problems/copies/".concat(t.problemID));case 6:return o=n.sent,t.copies=o.data.data,n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})))()},deleteFromCourse:function(e,t){var n=this;return te(l().mark((function r(){var a,o,c,s;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a="",o=0;case 2:if(!(o<n.copies.length)){r.next=9;break}if(n.copies[o].lab_id!=t.id){r.next=6;break}return a=n.copies[o].id,r.abrupt("break",9);case 6:o++,r.next=2;break;case 9:return r.next=11,b.x.delete("/problems/".concat(a));case 11:return c=r.sent,console.log(c.data.message),r.next=15,b.x.get("/problems/copies/".concat(n.problemID));case 15:s=r.sent,n.copies=s.data.data,e.isPublished=!1,e.DDate="",e.TDate="";case 20:case"end":return r.stop()}}),r)})))()},togglePublish:function(e){var t=e.currentLab;null!=t&&JSON.stringify(t)!=JSON.stringify({})?e.isPublished?this.deletePublish(e,t):this.addPublish(e,t):(console.log("can't publish/unpublish to undefined lab"),e.isPublished=!1)},addPublish:function(e,t){var n=this;return te(l().mark((function r(){var a,o,c,s,i;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=!0,c=0;case 2:if(!(c<n.copies.length)){r.next=10;break}if(n.copies[c].lab_id!=t.id){r.next=7;break}return a=!1,o=n.copies[c].id,r.abrupt("break",10);case 7:c++,r.next=2;break;case 10:if(!a){r.next=15;break}return r.next=13,n.addToCourse(t);case 13:s=r.sent,o=s.data.data.id;case 15:return e.isAdded=!0,i={published:!0},r.next=19,b.x.put("/problems/unique/".concat(o),i);case 19:r.sent;case 20:case"end":return r.stop()}}),r)})))()},deletePublish:function(e,t){var n=this;return te(l().mark((function e(){var r,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",a=0;case 2:if(!(a<n.copies.length)){e.next=9;break}if(n.copies[a].lab_id!=t.id){e.next=6;break}return r=n.copies[a].id,e.abrupt("break",9);case 6:a++,e.next=2;break;case 9:return o={published:!1},e.next=12,b.x.put("/problems/unique/".concat(r),o);case 12:e.sent;case 13:case"end":return e.stop()}}),e)})))()},addToAll:function(){for(var e=0;e<this.courses.length;e++)null!=this.courses[e].currentLab&&JSON.stringify(this.courses[e].currentLab)!=JSON.stringify({})?this.courses[e].isAdded||(this.addToCourse(this.courses[e].currentLab),this.courses[e].isAdded=!0):console.log("No Selected Lab for this course")},publishToAll:function(){for(var e=0;e<this.courses.length;e++)null!=this.courses[e].currentLab&&JSON.stringify(this.courses[e].currentLab)!=JSON.stringify({})?this.courses[e].isPublished||(this.addPublish(this.courses[e],this.courses[e].currentLab),this.courses[e].isPublished=!0):console.log("No Selected Lab for this course")}},mounted:function(){var e=this;return te(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.authUser=Y.Z.getters["auth/authUser"],t.next=3,b.x.get("/problems/full/".concat(e.problemID));case 3:return n=t.sent,e.problem=n.data.data,t.next=7,b.x.get("/problems/copies/".concat(e.problemID));case 7:r=t.sent,e.copies=r.data.data,e.authUser.fsc_user.courses&&(e.enrolledCourses=JSON.parse(e.authUser.fsc_user.courses).courses),e.getCourses();case 11:case"end":return t.stop()}}),t)})))()},render:function(e,t,n,a,o,c){return(0,r.openBlock)(),(0,r.createBlock)("div",w,[(0,r.createVNode)("div",x,[(0,r.createVNode)("button",{onClick:t[1]||(t[1]=function(e){return c.publishToAll()}),class:"btn btn-primary btn-md publish-all"}," PUBLISH TO ALL SELECTED LABS "),(0,r.createVNode)("button",{onClick:t[2]||(t[2]=function(e){return c.addToAll()}),class:"btn btn-primary btn-md publish-all"}," ADD TO ALL SELECTED LABS "),D,(0,r.createVNode)("div",C,[(0,r.createVNode)("div",y,[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(o.courses,(function(e,t){return(0,r.openBlock)(),(0,r.createBlock)("div",{key:e.id,class:"margin width col-xl-3 col-lg-4 col-md-6 col-sm-12 col-xs-12"},[(0,r.createVNode)("div",T,[(0,r.createVNode)("div",S,[(0,r.createVNode)("h4",I,(0,r.toDisplayString)(e.name),1),P,(0,r.createVNode)("div",E,[(0,r.createVNode)("div",O,[B,(0,r.createVNode)("div",L,[(0,r.createVNode)("label",U,[(0,r.withDirectives)((0,r.createVNode)("input",{type:"checkbox",onClick:function(t){return c.togglePublish(e)},"onUpdate:modelValue":function(t){return e.isPublished=t}},null,8,["onClick","onUpdate:modelValue"]),[[r.vModelCheckbox,e.isPublished]]),A])])]),(0,r.createVNode)("div",M,[j,(0,r.createVNode)("div",J,[(0,r.createVNode)("label",F,[(0,r.withDirectives)((0,r.createVNode)("input",{type:"checkbox",onClick:function(t){return c.toggleToCourse(e)},"onUpdate:modelValue":function(t){return e.isAdded=t}},null,8,["onClick","onUpdate:modelValue"]),[[r.vModelCheckbox,e.isAdded]]),G])])]),q,$,Z,(0,r.createVNode)("small",null,[(0,r.withDirectives)((0,r.createVNode)("select",{id:"lab-select",onChange:function(t){return c.switchedLab(e)},"onUpdate:modelValue":function(t){return e.currentLab=t}},[H,((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(o.labs[t],(function(e){return(0,r.openBlock)(),(0,r.createBlock)("option",{key:e.id,value:e},(0,r.toDisplayString)(e.name),9,["value"])})),128))],40,["onChange","onUpdate:modelValue"]),[[r.vModelSelect,e.currentLab]])]),W,R,z,(0,r.withDirectives)((0,r.createVNode)("input",{type:"date",id:"dueDate",onChange:function(t){return c.updateDate(e)},"onUpdate:modelValue":function(t){return e.DDate=t}},null,40,["onChange","onUpdate:modelValue"]),[[r.vModelText,e.DDate]]),K,Q,(0,r.withDirectives)((0,r.createVNode)("input",{type:"time",id:"timeDate",onChange:function(t){return c.updateDate(e)},"onUpdate:modelValue":function(t){return e.TDate=t}},null,40,["onChange","onUpdate:modelValue"]),[[r.vModelText,e.TDate]])]),X])])])})),128))])])])])}},re=ne;var ae={class:"create-assignment",style:{padding:"0 !important"}},oe={key:0,class:"lang-select"},ce={class:"row"},se={class:"col-9"},ie=(0,r.createVNode)("option",{value:"",selected:"",disabled:"",hidden:""},"Select a language...",-1),le=(0,r.createVNode)("option",{value:"Java"},"Java",-1),ue=(0,r.createVNode)("option",{value:"Python"},"Python",-1),de={class:"col-3 ml-1"},pe={key:1,class:"template-workspace"},he={class:"save-template"},fe={class:"row"},me={class:"col-8 saveStatus"};function ve(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ve(o,r,a,c,s,"next",e)}function s(e){ve(o,r,a,c,s,"throw",e)}c(void 0)}))}}const ge={props:["problemID"],data:function(){return{saveStatus:"",lang:"",showEditor:!1,content:"",template_j:"",template_p:""}},watch:{content:function(e){this.saveStatus="Saving...",console.log("Change status to saving"),this.timeout(this.problemID)}},methods:{launchEditor:function(){this.showEditor=!0},changeLanguage:function(){this.showEditor=!1},updateContent:function(e){this.content=e.code},timeout:v().debounce(function(){var e=be(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},n="Java"==this.lang?{java_starter:this.content}:{python_starter:this.content},console.log(n),e.next=6,b.x.put("/problems/".concat(t),n);case 6:e.sent,this.saveStatus="All changes have been saved";case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),500),getStarter:function(){var e=this;return be(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.x.get("/problems/full/".concat(e.problemID));case 2:n=t.sent,r=n.data.data,e.template_j=r.java_starter,e.template_p=r.python_starter;case 6:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.getStarter()},render:function(e,t,n,a,o,c){var s=(0,r.resolveComponent)("IDE");return(0,r.openBlock)(),(0,r.createBlock)("div",ae,[o.showEditor?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)("div",oe,[(0,r.createVNode)("div",ce,[(0,r.createVNode)("div",se,[(0,r.withDirectives)((0,r.createVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.lang=e}),id:"lang",class:"form-select"},[ie,le,ue],512),[[r.vModelSelect,o.lang]])]),(0,r.createVNode)("div",de,[(0,r.createVNode)("button",{type:"launch",name:"launch",class:"launch-workspace btn btn-success",disabled:!o.lang.length,onClick:t[2]||(t[2]=function(e){return c.launchEditor()})}," Launch in "+(0,r.toDisplayString)(o.lang),9,["disabled"])])])])),o.showEditor?((0,r.openBlock)(),(0,r.createBlock)("div",pe,[(0,r.createVNode)("div",he,[(0,r.createVNode)("div",fe,[(0,r.createVNode)("button",{class:"btn btn-primary btn-md col-4",onClick:t[3]||(t[3]=function(e){return c.changeLanguage()})}," CHANGE LANGUAGE "),(0,r.createVNode)("small",me,(0,r.toDisplayString)(this.saveStatus),1)])]),(0,r.createVNode)(s,{lang:o.lang,problemID:n.problemID,showSubmit:!1,saved_j:o.template_j,"onUpdate:saved_j":t[4]||(t[4]=function(e){return o.template_j=e}),saved_p:o.template_p,"onUpdate:saved_p":t[5]||(t[5]=function(e){return o.template_p=e}),onUpdate:c.updateContent},null,8,["lang","problemID","saved_j","saved_p","onUpdate"])])):(0,r.createCommentVNode)("",!0)])}},Ne=ge;var Ve={class:"create-test-cases create-assignment"},ke={class:"row test-cases"},we={class:"tc-card-title"},xe={class:"tc-card-body"},De=(0,r.createVNode)("br",null,null,-1),Ce=(0,r.createVNode)("br",null,null,-1),ye=(0,r.createVNode)("div",{class:"tc-card-title"},[(0,r.createVNode)("p",null,"Add Test Case"),(0,r.createVNode)("p",null,"+")],-1),Te={key:0,class:"container"},Se=(0,r.createVNode)("hr",null,null,-1),Ie=(0,r.createVNode)("label",{for:"tcTitle"},"Title: ",-1),Pe=(0,r.createVNode)("br",null,null,-1),Ee=(0,r.createVNode)("label",{for:"tcPoints"},"Points: ",-1),_e=(0,r.createVNode)("br",null,null,-1),Oe=(0,r.createVNode)("br",null,null,-1),Be=(0,r.createVNode)("h6",null,[(0,r.createVNode)("b",null,"Feedback on test failure")],-1),Le=(0,r.createVNode)("br",null,null,-1),Ue=(0,r.createVNode)("br",null,null,-1),Ae=(0,r.createVNode)("label",{for:"compareMethod"},"Compare Method: ",-1),Me=(0,r.createVNode)("option",{value:"flexible"}," Flexible equality (ignores: case, whitespace, and special characters) ",-1),je=(0,r.createVNode)("option",{value:"exact",selected:""},"Equals exactly",-1),Je=(0,r.createVNode)("option",{value:"contains"},"Contains an exact value (at least once)",-1),Fe=(0,r.createVNode)("option",{value:"regex"},"Regex (Write a regular expression to match outputs)",-1),Ge=(0,r.createVNode)("br",null,null,-1),qe=(0,r.createVNode)("br",null,null,-1),$e=(0,r.createVNode)("label",{for:"tcInput"},"Input (Will be passed into the student's program's stdin)",-1),Ze=(0,r.createVNode)("br",null,null,-1),He=(0,r.createVNode)("br",null,null,-1),We=(0,r.createVNode)("label",{for:"tcOutput"},"Output (Will be matched against the output of the student's program)",-1),Re=(0,r.createVNode)("br",null,null,-1),ze=(0,r.createVNode)("br",null,null,-1),Ke=(0,r.createVNode)("hr",null,null,-1),Qe=(0,r.createVNode)("br",null,null,-1);var Xe=n(3625);function Ye(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function et(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){Ye(o,r,a,c,s,"next",e)}function s(e){Ye(o,r,a,c,s,"throw",e)}c(void 0)}))}}const tt={props:{problemID:Number},data:function(){return{currentTC:0,tc:{id:"",Title:"",Points:0,Feedback:{},CompareMethod:"",Input:"",Output:""},feedback:{},cases:[]}},components:{VAceEditor:Xe.m},methods:{getCases:function(){var e=this;return et(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.x.get("/test-cases/".concat(e.problemID));case 2:n=t.sent,r=n.data,e.cases=r,0!=e.cases.length&&e.setCurrent(0);case 6:case"end":return t.stop()}}),t)})))()},addTest:function(){var e=this;return et(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("addTest"),n={assignment_id:e.problemID,feedback:JSON.stringify({}),input:"New Input",output:"New Output"},t.next=4,b.x.post("/test-cases/",n);case 4:r=t.sent,e.cases.push(r.data),e.setCurrent(e.cases.length-1);case 7:case"end":return t.stop()}}),t)})))()},deleteTest:function(){var e=this;return et(l().mark((function t(){var n,r,a,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=0;r<e.cases.length;r++)e.tc.id==e.cases[r].id&&(n=r);return e.cases=e.cases.filter((function(e,t){return t!=n})),a=e.tc.id,1!=e.currentTC&&0!=e.currentTC.length&&e.currentTC--,0!=e.currentTC.length?(o=e.currentTC-1,e.tc.id=e.cases[o].id,e.tc.Title=e.cases[o].title,e.tc.Points=e.cases[o].points,e.tc.Feedback=e.cases[o].feedback,e.tc.CompareMethod=e.cases[o].compare_method,e.tc.Input=e.cases[o].input,e.tc.Output=e.cases[o].output):(e.currentTC=0,e.tc.id="",e.tc.Title="",e.tc.Points="",e.tc.Feedback="",e.tc.CompareMethod="",e.tc.Input="",e.tc.Output=""),t.next=8,b.x.delete("/test-cases/".concat(a));case 8:t.sent;case 9:case"end":return t.stop()}}),t)})))()},setCurrent:function(e){this.currentTC=e+1,console.log(this.tc),console.log(this.cases[e]),this.tc.id=this.cases[e].id,this.tc.Title=this.cases[e].title,this.tc.Points=this.cases[e].points,this.tc.Feedback=this.cases[e].feedback,this.tc.CompareMethod=this.cases[e].compare_method,this.tc.Input=this.cases[e].input,this.tc.Output=this.cases[e].output},changeTitle:function(){var e=this;return et(l().mark((function t(){var n,r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:e.tc.Title},t.next=3,b.x.put("/test-cases/".concat(e.tc.id),n);case 3:for(r=t.sent,a=0;a<e.cases.length;a++)e.cases[a].id==r.data.id&&(e.cases[a]=r.data);case 5:case"end":return t.stop()}}),t)})))()},changePoints:function(){var e=this;return et(l().mark((function t(){var n,r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={points:e.tc.Points},t.next=3,b.x.put("/test-cases/".concat(e.tc.id),n);case 3:for(r=t.sent,a=0;a<e.cases.length;a++)e.cases[a].id==r.data.id&&(e.cases[a]=r.data);case 5:case"end":return t.stop()}}),t)})))()},changeFeedback:function(e){var t=this;return et(l().mark((function n(){var r,a,o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.tc.Feedback=e,r={feedback:t.tc.Feedback},n.next=4,b.x.put("/test-cases/".concat(t.tc.id),r);case 4:for(a=n.sent,o=0;o<t.cases.length;o++)t.cases[o].id==a.data.id&&(t.cases[o]=a.data);case 6:case"end":return n.stop()}}),n)})))()},changeCompare:function(){var e=this;return et(l().mark((function t(){var n,r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={compare_method:e.tc.CompareMethod},t.next=3,b.x.put("/test-cases/".concat(e.tc.id),n);case 3:for(r=t.sent,a=0;a<e.cases.length;a++)e.cases[a].id==r.data.id&&(e.cases[a]=r.data);case 5:case"end":return t.stop()}}),t)})))()},changeInput:function(){var e=this;return et(l().mark((function t(){var n,r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={input:e.tc.Input},t.next=3,b.x.put("/test-cases/".concat(e.tc.id),n);case 3:for(r=t.sent,a=0;a<e.cases.length;a++)e.cases[a].id==r.data.id&&(e.cases[a]=r.data);case 5:case"end":return t.stop()}}),t)})))()},changeOutput:function(){var e=this;return et(l().mark((function t(){var n,r,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={output:e.tc.Output},t.next=3,b.x.put("/test-cases/".concat(e.tc.id),n);case 3:for(r=t.sent,a=0;a<e.cases.length;a++)e.cases[a].id==r.data.id&&(e.cases[a]=r.data);case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getCases()},render:function(e,t,n,a,o,c){var s=(0,r.resolveComponent)("Tiptap"),i=(0,r.resolveComponent)("VAceEditor");return(0,r.openBlock)(),(0,r.createBlock)("div",Ve,[(0,r.createVNode)("div",ke,[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(o.cases,(function(e,t){return(0,r.openBlock)(),(0,r.createBlock)("div",{key:e.id,tc:e,class:"tc-card col-1",onClick:function(e){return c.setCurrent(t)}},[(0,r.createVNode)("div",we,[(0,r.createVNode)("p",null,(0,r.toDisplayString)(e.title),1)]),(0,r.createVNode)("div",xe,[(0,r.createVNode)("p",null,[(0,r.createTextVNode)((0,r.toDisplayString)(e.compareType)+" ",1),De,Ce,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.points)+" Points ",1)])])],8,["tc","onClick"])})),128)),(0,r.createVNode)("div",{onClick:t[1]||(t[1]=function(e){return c.addTest()}),class:"tc-card col-1"},[ye])]),""!=o.currentTC&&0!=o.currentTC?((0,r.openBlock)(),(0,r.createBlock)("div",Te,[(0,r.createVNode)("h4",null,"Test Case ("+(0,r.toDisplayString)(o.currentTC)+"/"+(0,r.toDisplayString)(o.cases.length)+")",1),Se,Ie,(0,r.withDirectives)((0,r.createVNode)("input",{type:"text",id:"tcTitle",onChange:t[2]||(t[2]=function(){return c.changeTitle&&c.changeTitle.apply(c,arguments)}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.tc.Title=e})},null,544),[[r.vModelText,o.tc.Title]]),Pe,Ee,(0,r.withDirectives)((0,r.createVNode)("input",{type:"number",id:"tcPoints",onChange:t[4]||(t[4]=function(){return c.changePoints&&c.changePoints.apply(c,arguments)}),"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.tc.Points=e})},null,544),[[r.vModelText,o.tc.Points]]),_e,Oe,Be,(0,r.createVNode)(s,{savedText:JSON.parse(o.tc.Feedback),onInput:c.changeFeedback,showMenuBar:!0,isDark:!1},null,8,["savedText","onInput"]),Le,Ue,Ae,(0,r.withDirectives)((0,r.createVNode)("select",{class:"form-select",name:"compareMethod",id:"compareMethod",onChange:t[6]||(t[6]=function(){return c.changeCompare&&c.changeCompare.apply(c,arguments)}),"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.tc.CompareMethod=e})},[Me,je,Je,Fe],544),[[r.vModelSelect,o.tc.CompareMethod]]),Ge,qe,$e,(0,r.createVNode)(i,{class:"editor",id:"tcInput",onChange:c.changeInput,value:o.tc.Input,"onUpdate:value":t[8]||(t[8]=function(e){return o.tc.Input=e})},null,8,["onChange","value"]),Ze,He,We,(0,r.createVNode)(i,{class:"editor",id:"tcOutput",onChange:c.changeOutput,value:o.tc.Output,"onUpdate:value":t[9]||(t[9]=function(e){return o.tc.Output=e})},null,8,["onChange","value"]),Re,ze,Ke,(0,r.createVNode)("button",{onClick:t[10]||(t[10]=function(e){return c.deleteTest()}),class:"btn btn-md btn-danger"},"Delete"),Qe])):(0,r.createCommentVNode)("",!0)])}},nt=tt;var rt={class:"create-assignment",style:{padding:"0 !important"}},at={key:0,class:"lang-select"},ot={class:"row"},ct={class:"col-9"},st=(0,r.createVNode)("option",{value:"",selected:"",disabled:"",hidden:""},"Select a language...",-1),it=(0,r.createVNode)("option",{value:"Java"},"Java",-1),lt=(0,r.createVNode)("option",{value:"Python"},"Python",-1),ut={class:"col-3 ml-1"},dt={key:1,class:"template-workspace"},pt={class:"save-model"},ht={class:"row"},ft={class:"col-8 saveStatus"};function mt(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function vt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){mt(o,r,a,c,s,"next",e)}function s(e){mt(o,r,a,c,s,"throw",e)}c(void 0)}))}}const bt={props:["problemID"],data:function(){return{saveStatus:"",lang:"",showEditor:!1,content:"",template_j:"",template_p:""}},watch:{content:function(e){this.saveStatus="Saving...",this.timeout(this.problemID)}},methods:{launchEditor:function(){this.showEditor=!0},changeLanguage:function(){this.showEditor=!1},updateContent:function(e){this.content=e.code},timeout:_.debounce(function(){var e=vt(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},n="Java"==this.lang?{java_model:this.content}:{python_model:this.content},e.next=5,b.x.put("/problems/".concat(t),n);case 5:e.sent,this.saveStatus="All changes have been saved";case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),500),getStarter:function(){var e=this;return vt(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.x.get("/problems/full/".concat(e.problemID));case 2:n=t.sent,r=n.data.data,e.template_j=r.java_starter,e.template_p=r.python_starter;case 6:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.getStarter()},render:function(e,t,n,a,o,c){var s=(0,r.resolveComponent)("IDE");return(0,r.openBlock)(),(0,r.createBlock)("div",rt,[o.showEditor?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)("div",at,[(0,r.createVNode)("div",ot,[(0,r.createVNode)("div",ct,[(0,r.withDirectives)((0,r.createVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.lang=e}),id:"lang",class:"form-select"},[st,it,lt],512),[[r.vModelSelect,o.lang]])]),(0,r.createVNode)("div",ut,[(0,r.createVNode)("button",{type:"launch",name:"launch",class:"launch-workspace btn btn-success",disabled:!o.lang.length,onClick:t[2]||(t[2]=function(e){return c.launchEditor()})}," Launch in "+(0,r.toDisplayString)(o.lang),9,["disabled"])])])])),o.showEditor?((0,r.openBlock)(),(0,r.createBlock)("div",dt,[(0,r.createVNode)("div",pt,[(0,r.createVNode)("div",ht,[(0,r.createVNode)("button",{class:"btn btn-primary btn-md col-4",onClick:t[3]||(t[3]=function(e){return c.changeLanguage()})}," CHANGE LANGUAGE "),(0,r.createVNode)("small",ft,(0,r.toDisplayString)(this.saveStatus),1)])]),(0,r.createVNode)(s,{lang:o.lang,problemID:n.problemID,showSubmit:!1,saved_j:o.template_j,"onUpdate:saved_j":t[4]||(t[4]=function(e){return o.template_j=e}),saved_p:o.template_p,"onUpdate:saved_p":t[5]||(t[5]=function(e){return o.template_p=e}),onUpdate:c.updateContent},null,8,["lang","problemID","saved_j","saved_p","onUpdate"])])):(0,r.createCommentVNode)("",!0)])}},gt=bt;var Nt={class:"create-assignment"},Vt={class:"table gradebook"},kt=(0,r.createVNode)("thead",{class:"gradebook"},[(0,r.createVNode)("tr",null,[(0,r.createVNode)("th",null,"Name"),(0,r.createVNode)("th",null,"FSC ID"),(0,r.createVNode)("th",null,"Percent"),(0,r.createVNode)("th",null,"Grade"),(0,r.createVNode)("th",null,"Letter Grade"),(0,r.createVNode)("th",null,"Email")])],-1);function wt(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}const xt={props:["problemID"],data:function(){return{authUser:{},gradebook:{},students:[],worth:0}},methods:{getStudents:function(){var e,t=this;return(e=l().mark((function e(){var n,r,a,o,c,s,i,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.isProf){e.next=21;break}return e.next=3,b.x.get("/problems/full/".concat(t.problemID));case 3:n=e.sent,t.gradebook=JSON.parse(n.data.data.gradebook),t.worth=n.data.data.worth,r=t.gradebook.students,o=0;case 8:if(!(o<r.length)){e.next=21;break}return a=r[o],e.next=12,b.x.get("/students/".concat(a));case 12:c=e.sent,s=c.data.data,console.log(s.fsc_id),i=t.gradebook.grades[a],u=t.calcGrade(n.data.data,i),t.students.push({name:s.name,ID:a,grade:u[1],percent:u[2],letterGrade:u[0],email:s.email});case 18:o++,e.next=8;break;case 21:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){wt(o,r,a,c,s,"next",e)}function s(e){wt(o,r,a,c,s,"throw",e)}c(void 0)}))})()},calcGrade:function(e,t){var n;return n=(n=100*t)/e.worth*100,n=Math.floor(n),[(n/=100)>90?"A":n>80?"B":n>70?"C":n>60?"D":"F",t,n]}},computed:{isProf:function(){return null!=Y.Z.getters["auth/isProf"]&&Y.Z.getters["auth/isProf"]}},mounted:function(){this.authUser=Y.Z.getters["auth/authUser"],this.getStudents()},render:function(e,t,n,a,o,c){return(0,r.openBlock)(),(0,r.createBlock)("div",Nt,[(0,r.createVNode)("table",Vt,[kt,(0,r.createVNode)("tbody",null,[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(o.students,(function(e){return(0,r.openBlock)(),(0,r.createBlock)("tr",{key:e.id,class:"student",style:{cursor:"pointer"}},[(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.name),1),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.ID),1),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.percent)+"%",1),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.grade)+" / "+(0,r.toDisplayString)(o.worth),1),(0,r.createVNode)("td",null,(0,r.toDisplayString)(e.letterGrade),1),(0,r.createVNode)("td",null,[(0,r.createVNode)("a",{href:"mailto:"+e.email},(0,r.toDisplayString)(e.email),9,["href"])])])})),128))])])])}},Dt=xt;function Ct(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){Ct(o,r,a,c,s,"next",e)}function s(e){Ct(o,r,a,c,s,"throw",e)}c(void 0)}))}}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var It=["Overview","Assign","Template","Test Bench","Model Solution","Grade Book","Save & Exit"];const Pt=(0,r.defineComponent)({props:["problemID"],emits:["unmounting","problemEdited","deleteMe"],components:{Overview:k,Assign:re,Template:Ne,TestBench:nt,ModelSolution:gt,GradeBook:Dt},name:"Create Assignment",setup:function(){var e=(0,r.reactive)({selectedTab:It[0]});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tabs:It},(0,r.toRefs)(e))},data:function(){return{childIsOpen:!0,assignmentID:this.problemID,assignmentTitle:"",overview:{},problem:{}}},watch:{assignmentTitle:function(e){""!=this.assignmentTitle&&this.timeout(this.problemID)}},methods:{handleSubmit:function(){var e=this;return yt(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.childIsOpen=!1,e.$emit("problemEdited");case 2:case"end":return t.stop()}}),t)})))()},updateOverview:function(e){console.log("EEEEEEEEEEEEEEEEEEEEEEEEEEE"),this.overview=e},getInfo:function(){var e=this;return yt(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.x.get("/problems/full/".concat(e.problemID));case 2:n=t.sent,e.problem=n.data.data,e.assignmentTitle=e.problem.name,e.overview=e.problem.description;case 6:case"end":return t.stop()}}),t)})))()},timeout:v().debounce(function(){var e=yt(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:this.assignmentTitle},e.next=3,b.x.put("/problems/unique/".concat(t),n);case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),500),deleteProblem:function(){var e=this;return yt(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$emit("deleteMe");case 2:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.getInfo()},beforeUnmount:function(){this.childIsOpen=!1,this.$emit("problemEdited")}});Pt.render=function(e,t,n,i,l,u){var d=(0,r.resolveComponent)("tab"),p=(0,r.resolveComponent)("tabs"),h=(0,r.resolveComponent)("Overview"),f=(0,r.resolveComponent)("tab-panel"),m=(0,r.resolveComponent)("Assign"),v=(0,r.resolveComponent)("Template"),b=(0,r.resolveComponent)("TestBench"),g=(0,r.resolveComponent)("ModelSolution"),N=(0,r.resolveComponent)("GradeBook"),V=(0,r.resolveComponent)("tab-panels");return e.childIsOpen?((0,r.openBlock)(),(0,r.createBlock)("div",a,[(0,r.createVNode)("div",o,[(0,r.withDirectives)((0,r.createVNode)("input",{id:"assignment-title",type:"text",class:"assignment-title form-control",name:"assignment-title",placeholder:"Assignment Title","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.assignmentTitle=t})},null,512),[[r.vModelText,e.assignmentTitle]]),c,(0,r.createVNode)("div",s,[(0,r.createVNode)(p,{modelValue:e.selectedTab,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedTab=t})},{default:(0,r.withCtx)((function(){return[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(e.tabs,(function(e,t){return(0,r.openBlock)(),(0,r.createBlock)(d,{class:"tab",key:"t".concat(t),val:e,label:e,indicator:!0},null,8,["val","label"])})),128))]})),_:1},8,["modelValue"])])]),(0,r.createVNode)(V,{modelValue:e.selectedTab,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedTab=t}),animate:!0},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(f,{val:"Overview"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(h,{onUpdate:e.updateOverview,onDeleteProblem:e.deleteProblem,overview:e.overview,problemID:e.assignmentID},null,8,["onUpdate","onDeleteProblem","overview","problemID"])]})),_:1}),(0,r.createVNode)(f,{val:"Assign"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(m,{problemID:e.problemID,onDeleteProblem:e.deleteProblem},null,8,["problemID","onDeleteProblem"])]})),_:1}),(0,r.createVNode)(f,{val:"Template"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(v,{problemID:e.problemID},null,8,["problemID"])]})),_:1}),(0,r.createVNode)(f,{val:"Test Bench"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(b,{problemID:e.problemID},null,8,["problemID"])]})),_:1}),(0,r.createVNode)(f,{val:"Model Solution"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(g,{problemID:e.problemID},null,8,["problemID"])]})),_:1}),(0,r.createVNode)(f,{val:"Grade Book"},{default:(0,r.withCtx)((function(){return[(0,r.createVNode)(N,{problemID:e.problemID},null,8,["problemID"])]})),_:1})]})),_:1},8,["modelValue"])])):(0,r.createCommentVNode)("",!0)};const Et=Pt}}]);